<div class="container">
    <h2>Registration Form</h2>
    <form #regForm="ngForm" (ngSubmit)="registerUser()" class="registration-form">
        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" [(ngModel)]="user.name" name="name" required #name="ngModel"
                [ngClass]="{'invalid': name.invalid && (name.dirty || name.touched)}"
                placeholder="Enter your full name">
            <span class="error" *ngIf="name.invalid && (name.dirty || name.touched)">Name is required</span>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" [(ngModel)]="user.email" name="email" required email #email="ngModel"
                [ngClass]="{'invalid': email.invalid && (email.dirty || email.touched)}" placeholder="Enter your email">
            <span class="error" *ngIf="email.invalid && (email.dirty || email.touched)">
                <ng-container *ngIf="email.errors && email.errors['required']">Email is required</ng-container>
                <ng-container *ngIf="email.errors && email.errors['email']">Invalid email format</ng-container>
            </span>
        </div>

        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" [(ngModel)]="user.phone" name="phone" pattern="[0-9]{10}" #phone="ngModel"
                [ngClass]="{'invalid': phone.invalid && (phone.dirty || phone.touched)}"
                placeholder="Enter your phone number">
            <span class="error" *ngIf="phone.invalid && (phone.dirty || phone.touched)">
                <ng-container *ngIf="phone.errors && phone.errors['pattern']">Enter a valid 10-digit phone
                    number</ng-container>
            </span>
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" [(ngModel)]="user.password" name="password" required minlength="8"
                #password="ngModel" [ngClass]="{'invalid': password.invalid && (password.dirty || password.touched)}"
                placeholder="Enter your password">
            <span class="error" *ngIf="password.invalid && (password.dirty || password.touched)">
                <ng-container *ngIf="password.errors && password.errors['required']">Password is required</ng-container>
                <ng-container *ngIf="password.errors && password.errors['minlength']">Password must be at least 8
                    characters</ng-container>
            </span>
        </div>

        <div class="form-group">
            <label for="confirmPassword">Confirm Password:</label>
            <input type="password" id="confirmPassword" [(ngModel)]="user.confirmPassword" name="confirmPassword"
                required #confirmPassword="ngModel"
                [ngClass]="{'invalid': confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)}"
                placeholder="Confirm your password">
            <span class="error" *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)">
                <ng-container *ngIf="confirmPassword.errors && confirmPassword.errors['required']">Password confirmation
                    is required</ng-container>
            </span>
        </div>

        <button type="submit" [disabled]="regForm.invalid">Register</button>
    </form>

    <div class="message" *ngIf="message">{{ message }}</div>
</div>